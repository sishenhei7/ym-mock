{
  "{\"sourceRoot\":\"/Users/zhouyang/Documents/projects/ym-mock/mock\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/zhouyang/Documents/projects/ym-mock\",\"filename\":\"/Users/zhouyang/Documents/projects/ym-mock/mock/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/zhouyang/Documents/projects/ym-mock\",\"plugins\":[],\"presets\":[]}:7.5.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock/mock",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/zhouyang/Documents/projects/ym-mock",
      "filename": "/Users/zhouyang/Documents/projects/ym-mock/mock/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/zhouyang/Documents/projects/ym-mock",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/zhouyang/Documents/projects/ym-mock/mock/index.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/zhouyang/Documents/projects/ym-mock/mock/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock/mock",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "// import Mock from 'mockjs';\n// import { param2Obj } from '../src/utils';\nconst Mock = require('mockjs');\n\nconst {\n  param2Obj\n} = require('../utils'); // import user from './user';\n// import article from './article';\n\n\nconst user = require('./user');\n\nconst article = require('./article');\n\nconst mocks = [...user, ...article]; // for front mock\n// please use it cautiously, it will redefine XMLHttpRequest,\n// which will cause many of your third-party libraries to be invalidated(like progress event).\n// export function mockXHR() {\n//   // mock patch\n//   // https://github.com/nuysoft/Mock/issues/300\n//   Mock.XHR.prototype.proxy_send = Mock.XHR.prototype.send;\n//   Mock.XHR.prototype.send = function() {\n//     if (this.custom.xhr) {\n//       this.custom.xhr.withCredentials = this.withCredentials || false;\n//       if (this.responseType) {\n//         this.custom.xhr.responseType = this.responseType;\n//       }\n//     }\n//     this.proxy_send(...arguments);\n//   }\n//   function XHR2ExpressReqWrap(respond) {\n//     return function(options) {\n//       let result = null;\n//       if (respond instanceof Function) {\n//         const { body, type, url } = options;\n//         // https://expressjs.com/en/4x/api.html#req\n//         result = respond({\n//           method: type,\n//           body: JSON.parse(body),\n//           query: param2Obj(url)\n//         });\n//       } else {\n//         result = respond;\n//       }\n//       return Mock.mock(result);\n//     }\n//   }\n//   for (const i of mocks) {\n//     Mock.mock(new RegExp(i.url), i.type || 'get', XHR2ExpressReqWrap(i.response));\n//   }\n// }\n// for mock server\n\nconst responseFake = (url, type, respond) => {\n  return {\n    url: new RegExp(`/mock${url}`),\n    type: type || 'get',\n\n    response(req, res) {\n      res.json(Mock.mock(respond instanceof Function ? respond(req, res) : respond));\n    }\n\n  };\n};\n\nmodule.exports = mocks.map(route => {\n  return responseFake(route.url, route.type, route.response);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk1vY2siLCJyZXF1aXJlIiwicGFyYW0yT2JqIiwidXNlciIsImFydGljbGUiLCJtb2NrcyIsInJlc3BvbnNlRmFrZSIsInVybCIsInR5cGUiLCJyZXNwb25kIiwiUmVnRXhwIiwicmVzcG9uc2UiLCJyZXEiLCJyZXMiLCJqc29uIiwibW9jayIsIkZ1bmN0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1hcCIsInJvdXRlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBRUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBO0FBQUYsSUFBZ0JELE9BQU8sQ0FBQyxVQUFELENBQTdCLEMsQ0FFQTtBQUNBOzs7QUFFQSxNQUFNRSxJQUFJLEdBQUdGLE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUNBLE1BQU1HLE9BQU8sR0FBR0gsT0FBTyxDQUFDLFdBQUQsQ0FBdkI7O0FBRUEsTUFBTUksS0FBSyxHQUFHLENBQ1osR0FBR0YsSUFEUyxFQUVaLEdBQUdDLE9BRlMsQ0FBZCxDLENBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQSxNQUFNRSxZQUFZLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLE9BQVosS0FBd0I7QUFDM0MsU0FBTztBQUNMRixJQUFBQSxHQUFHLEVBQUUsSUFBSUcsTUFBSixDQUFZLFFBQU9ILEdBQUksRUFBdkIsQ0FEQTtBQUVMQyxJQUFBQSxJQUFJLEVBQUVBLElBQUksSUFBSSxLQUZUOztBQUdMRyxJQUFBQSxRQUFRLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXO0FBQ2pCQSxNQUFBQSxHQUFHLENBQUNDLElBQUosQ0FBU2QsSUFBSSxDQUFDZSxJQUFMLENBQVVOLE9BQU8sWUFBWU8sUUFBbkIsR0FBOEJQLE9BQU8sQ0FBQ0csR0FBRCxFQUFNQyxHQUFOLENBQXJDLEdBQWtESixPQUE1RCxDQUFUO0FBQ0Q7O0FBTEksR0FBUDtBQU9ELENBUkQ7O0FBVUFRLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmIsS0FBSyxDQUFDYyxHQUFOLENBQVVDLEtBQUssSUFBSTtBQUNsQyxTQUFPZCxZQUFZLENBQUNjLEtBQUssQ0FBQ2IsR0FBUCxFQUFZYSxLQUFLLENBQUNaLElBQWxCLEVBQXdCWSxLQUFLLENBQUNULFFBQTlCLENBQW5CO0FBQ0QsQ0FGZ0IsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3pob3V5YW5nL0RvY3VtZW50cy9wcm9qZWN0cy95bS1tb2NrL21vY2siLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgTW9jayBmcm9tICdtb2NranMnO1xuLy8gaW1wb3J0IHsgcGFyYW0yT2JqIH0gZnJvbSAnLi4vc3JjL3V0aWxzJztcblxuY29uc3QgTW9jayA9IHJlcXVpcmUoJ21vY2tqcycpO1xuY29uc3QgeyBwYXJhbTJPYmogfSA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8vIGltcG9ydCB1c2VyIGZyb20gJy4vdXNlcic7XG4vLyBpbXBvcnQgYXJ0aWNsZSBmcm9tICcuL2FydGljbGUnO1xuXG5jb25zdCB1c2VyID0gcmVxdWlyZSgnLi91c2VyJyk7XG5jb25zdCBhcnRpY2xlID0gcmVxdWlyZSgnLi9hcnRpY2xlJyk7XG5cbmNvbnN0IG1vY2tzID0gW1xuICAuLi51c2VyLFxuICAuLi5hcnRpY2xlLFxuXTtcblxuLy8gZm9yIGZyb250IG1vY2tcbi8vIHBsZWFzZSB1c2UgaXQgY2F1dGlvdXNseSwgaXQgd2lsbCByZWRlZmluZSBYTUxIdHRwUmVxdWVzdCxcbi8vIHdoaWNoIHdpbGwgY2F1c2UgbWFueSBvZiB5b3VyIHRoaXJkLXBhcnR5IGxpYnJhcmllcyB0byBiZSBpbnZhbGlkYXRlZChsaWtlIHByb2dyZXNzIGV2ZW50KS5cbi8vIGV4cG9ydCBmdW5jdGlvbiBtb2NrWEhSKCkge1xuLy8gICAvLyBtb2NrIHBhdGNoXG4vLyAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9udXlzb2Z0L01vY2svaXNzdWVzLzMwMFxuLy8gICBNb2NrLlhIUi5wcm90b3R5cGUucHJveHlfc2VuZCA9IE1vY2suWEhSLnByb3RvdHlwZS5zZW5kO1xuLy8gICBNb2NrLlhIUi5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKCkge1xuLy8gICAgIGlmICh0aGlzLmN1c3RvbS54aHIpIHtcbi8vICAgICAgIHRoaXMuY3VzdG9tLnhoci53aXRoQ3JlZGVudGlhbHMgPSB0aGlzLndpdGhDcmVkZW50aWFscyB8fCBmYWxzZTtcblxuLy8gICAgICAgaWYgKHRoaXMucmVzcG9uc2VUeXBlKSB7XG4vLyAgICAgICAgIHRoaXMuY3VzdG9tLnhoci5yZXNwb25zZVR5cGUgPSB0aGlzLnJlc3BvbnNlVHlwZTtcbi8vICAgICAgIH1cbi8vICAgICB9XG4vLyAgICAgdGhpcy5wcm94eV9zZW5kKC4uLmFyZ3VtZW50cyk7XG4vLyAgIH1cblxuLy8gICBmdW5jdGlvbiBYSFIyRXhwcmVzc1JlcVdyYXAocmVzcG9uZCkge1xuLy8gICAgIHJldHVybiBmdW5jdGlvbihvcHRpb25zKSB7XG4vLyAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcblxuLy8gICAgICAgaWYgKHJlc3BvbmQgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuLy8gICAgICAgICBjb25zdCB7IGJvZHksIHR5cGUsIHVybCB9ID0gb3B0aW9ucztcbi8vICAgICAgICAgLy8gaHR0cHM6Ly9leHByZXNzanMuY29tL2VuLzR4L2FwaS5odG1sI3JlcVxuLy8gICAgICAgICByZXN1bHQgPSByZXNwb25kKHtcbi8vICAgICAgICAgICBtZXRob2Q6IHR5cGUsXG4vLyAgICAgICAgICAgYm9keTogSlNPTi5wYXJzZShib2R5KSxcbi8vICAgICAgICAgICBxdWVyeTogcGFyYW0yT2JqKHVybClcbi8vICAgICAgICAgfSk7XG4vLyAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICByZXN1bHQgPSByZXNwb25kO1xuLy8gICAgICAgfVxuXG4vLyAgICAgICByZXR1cm4gTW9jay5tb2NrKHJlc3VsdCk7XG4vLyAgICAgfVxuLy8gICB9XG5cbi8vICAgZm9yIChjb25zdCBpIG9mIG1vY2tzKSB7XG4vLyAgICAgTW9jay5tb2NrKG5ldyBSZWdFeHAoaS51cmwpLCBpLnR5cGUgfHwgJ2dldCcsIFhIUjJFeHByZXNzUmVxV3JhcChpLnJlc3BvbnNlKSk7XG4vLyAgIH1cbi8vIH1cblxuLy8gZm9yIG1vY2sgc2VydmVyXG5jb25zdCByZXNwb25zZUZha2UgPSAodXJsLCB0eXBlLCByZXNwb25kKSA9PiB7XG4gIHJldHVybiB7XG4gICAgdXJsOiBuZXcgUmVnRXhwKGAvbW9jayR7dXJsfWApLFxuICAgIHR5cGU6IHR5cGUgfHwgJ2dldCcsXG4gICAgcmVzcG9uc2UocmVxLCByZXMpIHtcbiAgICAgIHJlcy5qc29uKE1vY2subW9jayhyZXNwb25kIGluc3RhbmNlb2YgRnVuY3Rpb24gPyByZXNwb25kKHJlcSwgcmVzKSA6IHJlc3BvbmQpKVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtb2Nrcy5tYXAocm91dGUgPT4ge1xuICByZXR1cm4gcmVzcG9uc2VGYWtlKHJvdXRlLnVybCwgcm91dGUudHlwZSwgcm91dGUucmVzcG9uc2UpO1xufSlcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "Mock",
        "require",
        "param2Obj",
        "user",
        "article",
        "mocks",
        "responseFake",
        "url",
        "type",
        "respond",
        "RegExp",
        "response",
        "req",
        "res",
        "json",
        "mock",
        "Function",
        "module",
        "exports",
        "map",
        "route"
      ],
      "mappings": "AAAA;AACA;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,QAAD,CAApB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAgBD,OAAO,CAAC,UAAD,CAA7B,C,CAEA;AACA;;;AAEA,MAAME,IAAI,GAAGF,OAAO,CAAC,QAAD,CAApB;;AACA,MAAMG,OAAO,GAAGH,OAAO,CAAC,WAAD,CAAvB;;AAEA,MAAMI,KAAK,GAAG,CACZ,GAAGF,IADS,EAEZ,GAAGC,OAFS,CAAd,C,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;;AACA,MAAME,YAAY,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,OAAZ,KAAwB;AAC3C,SAAO;AACLF,IAAAA,GAAG,EAAE,IAAIG,MAAJ,CAAY,QAAOH,GAAI,EAAvB,CADA;AAELC,IAAAA,IAAI,EAAEA,IAAI,IAAI,KAFT;;AAGLG,IAAAA,QAAQ,CAACC,GAAD,EAAMC,GAAN,EAAW;AACjBA,MAAAA,GAAG,CAACC,IAAJ,CAASd,IAAI,CAACe,IAAL,CAAUN,OAAO,YAAYO,QAAnB,GAA8BP,OAAO,CAACG,GAAD,EAAMC,GAAN,CAArC,GAAkDJ,OAA5D,CAAT;AACD;;AALI,GAAP;AAOD,CARD;;AAUAQ,MAAM,CAACC,OAAP,GAAiBb,KAAK,CAACc,GAAN,CAAUC,KAAK,IAAI;AAClC,SAAOd,YAAY,CAACc,KAAK,CAACb,GAAP,EAAYa,KAAK,CAACZ,IAAlB,EAAwBY,KAAK,CAACT,QAA9B,CAAnB;AACD,CAFgB,CAAjB",
      "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock/mock",
      "sourcesContent": [
        "// import Mock from 'mockjs';\n// import { param2Obj } from '../src/utils';\n\nconst Mock = require('mockjs');\nconst { param2Obj } = require('../utils');\n\n// import user from './user';\n// import article from './article';\n\nconst user = require('./user');\nconst article = require('./article');\n\nconst mocks = [\n  ...user,\n  ...article,\n];\n\n// for front mock\n// please use it cautiously, it will redefine XMLHttpRequest,\n// which will cause many of your third-party libraries to be invalidated(like progress event).\n// export function mockXHR() {\n//   // mock patch\n//   // https://github.com/nuysoft/Mock/issues/300\n//   Mock.XHR.prototype.proxy_send = Mock.XHR.prototype.send;\n//   Mock.XHR.prototype.send = function() {\n//     if (this.custom.xhr) {\n//       this.custom.xhr.withCredentials = this.withCredentials || false;\n\n//       if (this.responseType) {\n//         this.custom.xhr.responseType = this.responseType;\n//       }\n//     }\n//     this.proxy_send(...arguments);\n//   }\n\n//   function XHR2ExpressReqWrap(respond) {\n//     return function(options) {\n//       let result = null;\n\n//       if (respond instanceof Function) {\n//         const { body, type, url } = options;\n//         // https://expressjs.com/en/4x/api.html#req\n//         result = respond({\n//           method: type,\n//           body: JSON.parse(body),\n//           query: param2Obj(url)\n//         });\n//       } else {\n//         result = respond;\n//       }\n\n//       return Mock.mock(result);\n//     }\n//   }\n\n//   for (const i of mocks) {\n//     Mock.mock(new RegExp(i.url), i.type || 'get', XHR2ExpressReqWrap(i.response));\n//   }\n// }\n\n// for mock server\nconst responseFake = (url, type, respond) => {\n  return {\n    url: new RegExp(`/mock${url}`),\n    type: type || 'get',\n    response(req, res) {\n      res.json(Mock.mock(respond instanceof Function ? respond(req, res) : respond))\n    }\n  };\n}\n\nmodule.exports = mocks.map(route => {\n  return responseFake(route.url, route.type, route.response);\n})\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1567670674828
  },
  "{\"sourceRoot\":\"/Users/zhouyang/Documents/projects/ym-mock\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/zhouyang/Documents/projects/ym-mock\",\"filename\":\"/Users/zhouyang/Documents/projects/ym-mock/mock-server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/zhouyang/Documents/projects/ym-mock\",\"plugins\":[],\"presets\":[]}:7.5.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/zhouyang/Documents/projects/ym-mock",
      "filename": "/Users/zhouyang/Documents/projects/ym-mock/mock-server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/zhouyang/Documents/projects/ym-mock",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/zhouyang/Documents/projects/ym-mock/mock-server.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/zhouyang/Documents/projects/ym-mock/mock-server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock",
        "sourceFileName": "mock-server.js"
      }
    },
    "ast": null,
    "code": "const chokidar = require('chokidar');\n\nconst bodyParser = require('body-parser');\n\nconst chalk = require('chalk');\n\nconst path = require('path');\n\nconst mockDir = path.join(process.cwd(), 'mock');\n\nfunction registerRoutes(app) {\n  const {\n    default: mocks\n  } = require('./mock/index.js');\n\n  let mockLastIndex;\n\n  for (const mock of mocks) {\n    app[mock.type](mock.url, mock.response);\n    mockLastIndex = app._router.stack.length;\n  }\n\n  const mockRoutesLength = Object.keys(mocks).length;\n  return {\n    mockRoutesLength: mockRoutesLength,\n    mockStartIndex: mockLastIndex - mockRoutesLength\n  };\n}\n\nfunction unregisterRoutes() {\n  Object.keys(require.cache).forEach(i => {\n    if (i.includes(mockDir)) {\n      delete require.cache[require.resolve(i)];\n    }\n  });\n}\n\nmodule.exports = app => {\n  // es6 polyfill\n  require('@babel/register'); // parse app.body\n  // https://expressjs.com/en/4x/api.html#req.body\n\n\n  app.use(bodyParser.json());\n  app.use(bodyParser.urlencoded({\n    extended: true\n  }));\n  const mockRoutes = registerRoutes(app);\n  const mockRoutesLength = mockRoutes.mockRoutesLength;\n  const mockStartIndex = mockRoutes.mockStartIndex; // watch files, hot reload mock server\n\n  chokidar.watch(mockDir, {\n    ignoreInitial: true\n  }).on('all', (event, path) => {\n    if (event === 'change' || event === 'add') {\n      try {\n        // remove mock routes stack\n        app._router.stack.splice(mockStartIndex, mockRoutesLength); // clear routes cache\n\n\n        unregisterRoutes();\n        const mockRoutes = registerRoutes(app);\n        mockRoutesLength = mockRoutes.mockRoutesLength;\n        mockStartIndex = mockRoutes.mockStartIndex;\n        console.log(chalk.magentaBright(`\\n > Mock Server hot reload success! changed  ${path}`));\n      } catch (error) {\n        console.log(chalk.redBright(error));\n      }\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vY2stc2VydmVyLmpzIl0sIm5hbWVzIjpbImNob2tpZGFyIiwicmVxdWlyZSIsImJvZHlQYXJzZXIiLCJjaGFsayIsInBhdGgiLCJtb2NrRGlyIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJyZWdpc3RlclJvdXRlcyIsImFwcCIsImRlZmF1bHQiLCJtb2NrcyIsIm1vY2tMYXN0SW5kZXgiLCJtb2NrIiwidHlwZSIsInVybCIsInJlc3BvbnNlIiwiX3JvdXRlciIsInN0YWNrIiwibGVuZ3RoIiwibW9ja1JvdXRlc0xlbmd0aCIsIk9iamVjdCIsImtleXMiLCJtb2NrU3RhcnRJbmRleCIsInVucmVnaXN0ZXJSb3V0ZXMiLCJjYWNoZSIsImZvckVhY2giLCJpIiwiaW5jbHVkZXMiLCJyZXNvbHZlIiwibW9kdWxlIiwiZXhwb3J0cyIsInVzZSIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJtb2NrUm91dGVzIiwid2F0Y2giLCJpZ25vcmVJbml0aWFsIiwib24iLCJldmVudCIsInNwbGljZSIsImNvbnNvbGUiLCJsb2ciLCJtYWdlbnRhQnJpZ2h0IiwiZXJyb3IiLCJyZWRCcmlnaHQiXSwibWFwcGluZ3MiOiJBQUNBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFDQSxNQUFNRSxLQUFLLEdBQUdGLE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLE1BQU1HLElBQUksR0FBR0gsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBRUEsTUFBTUksT0FBTyxHQUFHRCxJQUFJLENBQUNFLElBQUwsQ0FBVUMsT0FBTyxDQUFDQyxHQUFSLEVBQVYsRUFBeUIsTUFBekIsQ0FBaEI7O0FBRUEsU0FBU0MsY0FBVCxDQUF3QkMsR0FBeEIsRUFBNkI7QUFDM0IsUUFBTTtBQUFFQyxJQUFBQSxPQUFPLEVBQUVDO0FBQVgsTUFBcUJYLE9BQU8sQ0FBQyxpQkFBRCxDQUFsQzs7QUFFQSxNQUFJWSxhQUFKOztBQUVBLE9BQUssTUFBTUMsSUFBWCxJQUFtQkYsS0FBbkIsRUFBMEI7QUFDeEJGLElBQUFBLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDQyxJQUFOLENBQUgsQ0FBZUQsSUFBSSxDQUFDRSxHQUFwQixFQUF5QkYsSUFBSSxDQUFDRyxRQUE5QjtBQUNBSixJQUFBQSxhQUFhLEdBQUdILEdBQUcsQ0FBQ1EsT0FBSixDQUFZQyxLQUFaLENBQWtCQyxNQUFsQztBQUNEOztBQUVELFFBQU1DLGdCQUFnQixHQUFHQyxNQUFNLENBQUNDLElBQVAsQ0FBWVgsS0FBWixFQUFtQlEsTUFBNUM7QUFFQSxTQUFPO0FBQ0xDLElBQUFBLGdCQUFnQixFQUFFQSxnQkFEYjtBQUVMRyxJQUFBQSxjQUFjLEVBQUVYLGFBQWEsR0FBR1E7QUFGM0IsR0FBUDtBQUlEOztBQUVELFNBQVNJLGdCQUFULEdBQTRCO0FBQzFCSCxFQUFBQSxNQUFNLENBQUNDLElBQVAsQ0FBWXRCLE9BQU8sQ0FBQ3lCLEtBQXBCLEVBQTJCQyxPQUEzQixDQUFtQ0MsQ0FBQyxJQUFJO0FBQ3RDLFFBQUlBLENBQUMsQ0FBQ0MsUUFBRixDQUFXeEIsT0FBWCxDQUFKLEVBQXlCO0FBQ3ZCLGFBQU9KLE9BQU8sQ0FBQ3lCLEtBQVIsQ0FBY3pCLE9BQU8sQ0FBQzZCLE9BQVIsQ0FBZ0JGLENBQWhCLENBQWQsQ0FBUDtBQUNEO0FBQ0YsR0FKRDtBQUtEOztBQUVERyxNQUFNLENBQUNDLE9BQVAsR0FBaUJ0QixHQUFHLElBQUk7QUFDdEI7QUFDQVQsRUFBQUEsT0FBTyxDQUFDLGlCQUFELENBQVAsQ0FGc0IsQ0FJdEI7QUFDQTs7O0FBQ0FTLEVBQUFBLEdBQUcsQ0FBQ3VCLEdBQUosQ0FBUS9CLFVBQVUsQ0FBQ2dDLElBQVgsRUFBUjtBQUNBeEIsRUFBQUEsR0FBRyxDQUFDdUIsR0FBSixDQUFRL0IsVUFBVSxDQUFDaUMsVUFBWCxDQUFzQjtBQUM1QkMsSUFBQUEsUUFBUSxFQUFFO0FBRGtCLEdBQXRCLENBQVI7QUFJQSxRQUFNQyxVQUFVLEdBQUc1QixjQUFjLENBQUNDLEdBQUQsQ0FBakM7QUFDQSxRQUFNVyxnQkFBZ0IsR0FBR2dCLFVBQVUsQ0FBQ2hCLGdCQUFwQztBQUNBLFFBQU1HLGNBQWMsR0FBR2EsVUFBVSxDQUFDYixjQUFsQyxDQWJzQixDQWV0Qjs7QUFDQXhCLEVBQUFBLFFBQVEsQ0FBQ3NDLEtBQVQsQ0FBZWpDLE9BQWYsRUFBd0I7QUFDdEJrQyxJQUFBQSxhQUFhLEVBQUU7QUFETyxHQUF4QixFQUVHQyxFQUZILENBRU0sS0FGTixFQUVhLENBQUNDLEtBQUQsRUFBUXJDLElBQVIsS0FBaUI7QUFDNUIsUUFBSXFDLEtBQUssS0FBSyxRQUFWLElBQXNCQSxLQUFLLEtBQUssS0FBcEMsRUFBMkM7QUFDekMsVUFBSTtBQUNGO0FBQ0EvQixRQUFBQSxHQUFHLENBQUNRLE9BQUosQ0FBWUMsS0FBWixDQUFrQnVCLE1BQWxCLENBQXlCbEIsY0FBekIsRUFBeUNILGdCQUF6QyxFQUZFLENBSUY7OztBQUNBSSxRQUFBQSxnQkFBZ0I7QUFFaEIsY0FBTVksVUFBVSxHQUFHNUIsY0FBYyxDQUFDQyxHQUFELENBQWpDO0FBQ0FXLFFBQUFBLGdCQUFnQixHQUFHZ0IsVUFBVSxDQUFDaEIsZ0JBQTlCO0FBQ0FHLFFBQUFBLGNBQWMsR0FBR2EsVUFBVSxDQUFDYixjQUE1QjtBQUVBbUIsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVl6QyxLQUFLLENBQUMwQyxhQUFOLENBQ1QsaURBQWdEekMsSUFBSyxFQUQ1QyxDQUFaO0FBRUQsT0FiRCxDQWFFLE9BQU8wQyxLQUFQLEVBQWM7QUFDZEgsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVl6QyxLQUFLLENBQUM0QyxTQUFOLENBQWdCRCxLQUFoQixDQUFaO0FBQ0Q7QUFDRjtBQUNGLEdBckJEO0FBc0JELENBdENEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy96aG91eWFuZy9Eb2N1bWVudHMvcHJvamVjdHMveW0tbW9jayIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgY2hva2lkYXIgPSByZXF1aXJlKCdjaG9raWRhcicpO1xuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XG5jb25zdCBjaGFsayA9IHJlcXVpcmUoJ2NoYWxrJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5jb25zdCBtb2NrRGlyID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdtb2NrJyk7XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyUm91dGVzKGFwcCkge1xuICBjb25zdCB7IGRlZmF1bHQ6IG1vY2tzIH0gPSByZXF1aXJlKCcuL21vY2svaW5kZXguanMnKTtcblxuICBsZXQgbW9ja0xhc3RJbmRleDtcblxuICBmb3IgKGNvbnN0IG1vY2sgb2YgbW9ja3MpIHtcbiAgICBhcHBbbW9jay50eXBlXShtb2NrLnVybCwgbW9jay5yZXNwb25zZSk7XG4gICAgbW9ja0xhc3RJbmRleCA9IGFwcC5fcm91dGVyLnN0YWNrLmxlbmd0aDtcbiAgfVxuXG4gIGNvbnN0IG1vY2tSb3V0ZXNMZW5ndGggPSBPYmplY3Qua2V5cyhtb2NrcykubGVuZ3RoO1xuXG4gIHJldHVybiB7XG4gICAgbW9ja1JvdXRlc0xlbmd0aDogbW9ja1JvdXRlc0xlbmd0aCxcbiAgICBtb2NrU3RhcnRJbmRleDogbW9ja0xhc3RJbmRleCAtIG1vY2tSb3V0ZXNMZW5ndGgsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVucmVnaXN0ZXJSb3V0ZXMoKSB7XG4gIE9iamVjdC5rZXlzKHJlcXVpcmUuY2FjaGUpLmZvckVhY2goaSA9PiB7XG4gICAgaWYgKGkuaW5jbHVkZXMobW9ja0RpcikpIHtcbiAgICAgIGRlbGV0ZSByZXF1aXJlLmNhY2hlW3JlcXVpcmUucmVzb2x2ZShpKV07XG4gICAgfVxuICB9KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcCA9PiB7XG4gIC8vIGVzNiBwb2x5ZmlsbFxuICByZXF1aXJlKCdAYmFiZWwvcmVnaXN0ZXInKTtcblxuICAvLyBwYXJzZSBhcHAuYm9keVxuICAvLyBodHRwczovL2V4cHJlc3Nqcy5jb20vZW4vNHgvYXBpLmh0bWwjcmVxLmJvZHlcbiAgYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG4gIGFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHtcbiAgICBleHRlbmRlZDogdHJ1ZSxcbiAgfSkpO1xuXG4gIGNvbnN0IG1vY2tSb3V0ZXMgPSByZWdpc3RlclJvdXRlcyhhcHApO1xuICBjb25zdCBtb2NrUm91dGVzTGVuZ3RoID0gbW9ja1JvdXRlcy5tb2NrUm91dGVzTGVuZ3RoO1xuICBjb25zdCBtb2NrU3RhcnRJbmRleCA9IG1vY2tSb3V0ZXMubW9ja1N0YXJ0SW5kZXg7XG5cbiAgLy8gd2F0Y2ggZmlsZXMsIGhvdCByZWxvYWQgbW9jayBzZXJ2ZXJcbiAgY2hva2lkYXIud2F0Y2gobW9ja0Rpciwge1xuICAgIGlnbm9yZUluaXRpYWw6IHRydWVcbiAgfSkub24oJ2FsbCcsIChldmVudCwgcGF0aCkgPT4ge1xuICAgIGlmIChldmVudCA9PT0gJ2NoYW5nZScgfHwgZXZlbnQgPT09ICdhZGQnKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyByZW1vdmUgbW9jayByb3V0ZXMgc3RhY2tcbiAgICAgICAgYXBwLl9yb3V0ZXIuc3RhY2suc3BsaWNlKG1vY2tTdGFydEluZGV4LCBtb2NrUm91dGVzTGVuZ3RoKVxuXG4gICAgICAgIC8vIGNsZWFyIHJvdXRlcyBjYWNoZVxuICAgICAgICB1bnJlZ2lzdGVyUm91dGVzKClcblxuICAgICAgICBjb25zdCBtb2NrUm91dGVzID0gcmVnaXN0ZXJSb3V0ZXMoYXBwKVxuICAgICAgICBtb2NrUm91dGVzTGVuZ3RoID0gbW9ja1JvdXRlcy5tb2NrUm91dGVzTGVuZ3RoXG4gICAgICAgIG1vY2tTdGFydEluZGV4ID0gbW9ja1JvdXRlcy5tb2NrU3RhcnRJbmRleFxuXG4gICAgICAgIGNvbnNvbGUubG9nKGNoYWxrLm1hZ2VudGFCcmlnaHQoXG4gICAgICAgICAgYFxcbiA+IE1vY2sgU2VydmVyIGhvdCByZWxvYWQgc3VjY2VzcyEgY2hhbmdlZCAgJHtwYXRofWApKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkQnJpZ2h0KGVycm9yKSlcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG5cblxuXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "mock-server.js"
      ],
      "names": [
        "chokidar",
        "require",
        "bodyParser",
        "chalk",
        "path",
        "mockDir",
        "join",
        "process",
        "cwd",
        "registerRoutes",
        "app",
        "default",
        "mocks",
        "mockLastIndex",
        "mock",
        "type",
        "url",
        "response",
        "_router",
        "stack",
        "length",
        "mockRoutesLength",
        "Object",
        "keys",
        "mockStartIndex",
        "unregisterRoutes",
        "cache",
        "forEach",
        "i",
        "includes",
        "resolve",
        "module",
        "exports",
        "use",
        "json",
        "urlencoded",
        "extended",
        "mockRoutes",
        "watch",
        "ignoreInitial",
        "on",
        "event",
        "splice",
        "console",
        "log",
        "magentaBright",
        "error",
        "redBright"
      ],
      "mappings": "AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMG,IAAI,GAAGH,OAAO,CAAC,MAAD,CAApB;;AAEA,MAAMI,OAAO,GAAGD,IAAI,CAACE,IAAL,CAAUC,OAAO,CAACC,GAAR,EAAV,EAAyB,MAAzB,CAAhB;;AAEA,SAASC,cAAT,CAAwBC,GAAxB,EAA6B;AAC3B,QAAM;AAAEC,IAAAA,OAAO,EAAEC;AAAX,MAAqBX,OAAO,CAAC,iBAAD,CAAlC;;AAEA,MAAIY,aAAJ;;AAEA,OAAK,MAAMC,IAAX,IAAmBF,KAAnB,EAA0B;AACxBF,IAAAA,GAAG,CAACI,IAAI,CAACC,IAAN,CAAH,CAAeD,IAAI,CAACE,GAApB,EAAyBF,IAAI,CAACG,QAA9B;AACAJ,IAAAA,aAAa,GAAGH,GAAG,CAACQ,OAAJ,CAAYC,KAAZ,CAAkBC,MAAlC;AACD;;AAED,QAAMC,gBAAgB,GAAGC,MAAM,CAACC,IAAP,CAAYX,KAAZ,EAAmBQ,MAA5C;AAEA,SAAO;AACLC,IAAAA,gBAAgB,EAAEA,gBADb;AAELG,IAAAA,cAAc,EAAEX,aAAa,GAAGQ;AAF3B,GAAP;AAID;;AAED,SAASI,gBAAT,GAA4B;AAC1BH,EAAAA,MAAM,CAACC,IAAP,CAAYtB,OAAO,CAACyB,KAApB,EAA2BC,OAA3B,CAAmCC,CAAC,IAAI;AACtC,QAAIA,CAAC,CAACC,QAAF,CAAWxB,OAAX,CAAJ,EAAyB;AACvB,aAAOJ,OAAO,CAACyB,KAAR,CAAczB,OAAO,CAAC6B,OAAR,CAAgBF,CAAhB,CAAd,CAAP;AACD;AACF,GAJD;AAKD;;AAEDG,MAAM,CAACC,OAAP,GAAiBtB,GAAG,IAAI;AACtB;AACAT,EAAAA,OAAO,CAAC,iBAAD,CAAP,CAFsB,CAItB;AACA;;;AACAS,EAAAA,GAAG,CAACuB,GAAJ,CAAQ/B,UAAU,CAACgC,IAAX,EAAR;AACAxB,EAAAA,GAAG,CAACuB,GAAJ,CAAQ/B,UAAU,CAACiC,UAAX,CAAsB;AAC5BC,IAAAA,QAAQ,EAAE;AADkB,GAAtB,CAAR;AAIA,QAAMC,UAAU,GAAG5B,cAAc,CAACC,GAAD,CAAjC;AACA,QAAMW,gBAAgB,GAAGgB,UAAU,CAAChB,gBAApC;AACA,QAAMG,cAAc,GAAGa,UAAU,CAACb,cAAlC,CAbsB,CAetB;;AACAxB,EAAAA,QAAQ,CAACsC,KAAT,CAAejC,OAAf,EAAwB;AACtBkC,IAAAA,aAAa,EAAE;AADO,GAAxB,EAEGC,EAFH,CAEM,KAFN,EAEa,CAACC,KAAD,EAAQrC,IAAR,KAAiB;AAC5B,QAAIqC,KAAK,KAAK,QAAV,IAAsBA,KAAK,KAAK,KAApC,EAA2C;AACzC,UAAI;AACF;AACA/B,QAAAA,GAAG,CAACQ,OAAJ,CAAYC,KAAZ,CAAkBuB,MAAlB,CAAyBlB,cAAzB,EAAyCH,gBAAzC,EAFE,CAIF;;;AACAI,QAAAA,gBAAgB;AAEhB,cAAMY,UAAU,GAAG5B,cAAc,CAACC,GAAD,CAAjC;AACAW,QAAAA,gBAAgB,GAAGgB,UAAU,CAAChB,gBAA9B;AACAG,QAAAA,cAAc,GAAGa,UAAU,CAACb,cAA5B;AAEAmB,QAAAA,OAAO,CAACC,GAAR,CAAYzC,KAAK,CAAC0C,aAAN,CACT,iDAAgDzC,IAAK,EAD5C,CAAZ;AAED,OAbD,CAaE,OAAO0C,KAAP,EAAc;AACdH,QAAAA,OAAO,CAACC,GAAR,CAAYzC,KAAK,CAAC4C,SAAN,CAAgBD,KAAhB,CAAZ;AACD;AACF;AACF,GArBD;AAsBD,CAtCD",
      "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock",
      "sourcesContent": [
        "\nconst chokidar = require('chokidar');\nconst bodyParser = require('body-parser');\nconst chalk = require('chalk');\nconst path = require('path');\n\nconst mockDir = path.join(process.cwd(), 'mock');\n\nfunction registerRoutes(app) {\n  const { default: mocks } = require('./mock/index.js');\n\n  let mockLastIndex;\n\n  for (const mock of mocks) {\n    app[mock.type](mock.url, mock.response);\n    mockLastIndex = app._router.stack.length;\n  }\n\n  const mockRoutesLength = Object.keys(mocks).length;\n\n  return {\n    mockRoutesLength: mockRoutesLength,\n    mockStartIndex: mockLastIndex - mockRoutesLength,\n  };\n}\n\nfunction unregisterRoutes() {\n  Object.keys(require.cache).forEach(i => {\n    if (i.includes(mockDir)) {\n      delete require.cache[require.resolve(i)];\n    }\n  })\n}\n\nmodule.exports = app => {\n  // es6 polyfill\n  require('@babel/register');\n\n  // parse app.body\n  // https://expressjs.com/en/4x/api.html#req.body\n  app.use(bodyParser.json());\n  app.use(bodyParser.urlencoded({\n    extended: true,\n  }));\n\n  const mockRoutes = registerRoutes(app);\n  const mockRoutesLength = mockRoutes.mockRoutesLength;\n  const mockStartIndex = mockRoutes.mockStartIndex;\n\n  // watch files, hot reload mock server\n  chokidar.watch(mockDir, {\n    ignoreInitial: true\n  }).on('all', (event, path) => {\n    if (event === 'change' || event === 'add') {\n      try {\n        // remove mock routes stack\n        app._router.stack.splice(mockStartIndex, mockRoutesLength)\n\n        // clear routes cache\n        unregisterRoutes()\n\n        const mockRoutes = registerRoutes(app)\n        mockRoutesLength = mockRoutes.mockRoutesLength\n        mockStartIndex = mockRoutes.mockStartIndex\n\n        console.log(chalk.magentaBright(\n          `\\n > Mock Server hot reload success! changed  ${path}`))\n      } catch (error) {\n        console.log(chalk.redBright(error))\n      }\n    }\n  })\n}\n\n\n\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1567670012663
  },
  "{\"sourceRoot\":\"/Users/zhouyang/Documents/projects/ym-mock/utils\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/zhouyang/Documents/projects/ym-mock\",\"filename\":\"/Users/zhouyang/Documents/projects/ym-mock/utils/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/zhouyang/Documents/projects/ym-mock\",\"plugins\":[],\"presets\":[]}:7.5.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock/utils",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/zhouyang/Documents/projects/ym-mock",
      "filename": "/Users/zhouyang/Documents/projects/ym-mock/utils/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/zhouyang/Documents/projects/ym-mock",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/zhouyang/Documents/projects/ym-mock/utils/index.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/zhouyang/Documents/projects/ym-mock/utils/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock/utils",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "/**\n * @param {string} url\n * @returns {Object}\n */\nfunction param2Obj(url) {\n  const search = url.split('?')[1];\n\n  if (!search) {\n    return {};\n  }\n\n  return JSON.parse('{\"' + decodeURIComponent(search).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"').replace(/\\+/g, ' ') + '\"}');\n}\n\nmodule.exports = {\n  param2Obj\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInBhcmFtMk9iaiIsInVybCIsInNlYXJjaCIsInNwbGl0IiwiSlNPTiIsInBhcnNlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicmVwbGFjZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOzs7O0FBSUEsU0FBU0EsU0FBVCxDQUFtQkMsR0FBbkIsRUFBd0I7QUFDdEIsUUFBTUMsTUFBTSxHQUFHRCxHQUFHLENBQUNFLEtBQUosQ0FBVSxHQUFWLEVBQWUsQ0FBZixDQUFmOztBQUNBLE1BQUksQ0FBQ0QsTUFBTCxFQUFhO0FBQ1gsV0FBTyxFQUFQO0FBQ0Q7O0FBQ0QsU0FBT0UsSUFBSSxDQUFDQyxLQUFMLENBQ0wsT0FDRUMsa0JBQWtCLENBQUNKLE1BQUQsQ0FBbEIsQ0FDR0ssT0FESCxDQUNXLElBRFgsRUFDaUIsS0FEakIsRUFFR0EsT0FGSCxDQUVXLElBRlgsRUFFaUIsS0FGakIsRUFHR0EsT0FISCxDQUdXLElBSFgsRUFHaUIsS0FIakIsRUFJR0EsT0FKSCxDQUlXLEtBSlgsRUFJa0IsR0FKbEIsQ0FERixHQU1FLElBUEcsQ0FBUDtBQVNEOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDZlQsRUFBQUE7QUFEZSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvemhvdXlhbmcvRG9jdW1lbnRzL3Byb2plY3RzL3ltLW1vY2svdXRpbHMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHBhcmFtMk9iaih1cmwpIHtcbiAgY29uc3Qgc2VhcmNoID0gdXJsLnNwbGl0KCc/JylbMV07XG4gIGlmICghc2VhcmNoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIHJldHVybiBKU09OLnBhcnNlKFxuICAgICd7XCInICtcbiAgICAgIGRlY29kZVVSSUNvbXBvbmVudChzZWFyY2gpXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJylcbiAgICAgICAgLnJlcGxhY2UoLyYvZywgJ1wiLFwiJylcbiAgICAgICAgLnJlcGxhY2UoLz0vZywgJ1wiOlwiJylcbiAgICAgICAgLnJlcGxhY2UoL1xcKy9nLCAnICcpICtcbiAgICAgICdcIn0nXG4gICk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBwYXJhbTJPYmosXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "param2Obj",
        "url",
        "search",
        "split",
        "JSON",
        "parse",
        "decodeURIComponent",
        "replace",
        "module",
        "exports"
      ],
      "mappings": "AAAA;;;;AAIA,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,QAAMC,MAAM,GAAGD,GAAG,CAACE,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAf;;AACA,MAAI,CAACD,MAAL,EAAa;AACX,WAAO,EAAP;AACD;;AACD,SAAOE,IAAI,CAACC,KAAL,CACL,OACEC,kBAAkB,CAACJ,MAAD,CAAlB,CACGK,OADH,CACW,IADX,EACiB,KADjB,EAEGA,OAFH,CAEW,IAFX,EAEiB,KAFjB,EAGGA,OAHH,CAGW,IAHX,EAGiB,KAHjB,EAIGA,OAJH,CAIW,KAJX,EAIkB,GAJlB,CADF,GAME,IAPG,CAAP;AASD;;AAEDC,MAAM,CAACC,OAAP,GAAiB;AACfT,EAAAA;AADe,CAAjB",
      "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock/utils",
      "sourcesContent": [
        "/**\n * @param {string} url\n * @returns {Object}\n */\nfunction param2Obj(url) {\n  const search = url.split('?')[1];\n  if (!search) {\n    return {};\n  }\n  return JSON.parse(\n    '{\"' +\n      decodeURIComponent(search)\n        .replace(/\"/g, '\\\\\"')\n        .replace(/&/g, '\",\"')\n        .replace(/=/g, '\":\"')\n        .replace(/\\+/g, ' ') +\n      '\"}'\n  );\n}\n\nmodule.exports = {\n  param2Obj,\n};\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1567670631002
  },
  "{\"sourceRoot\":\"/Users/zhouyang/Documents/projects/ym-mock/mock\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/zhouyang/Documents/projects/ym-mock\",\"filename\":\"/Users/zhouyang/Documents/projects/ym-mock/mock/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/zhouyang/Documents/projects/ym-mock\",\"plugins\":[],\"presets\":[]}:7.5.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock/mock",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/zhouyang/Documents/projects/ym-mock",
      "filename": "/Users/zhouyang/Documents/projects/ym-mock/mock/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/zhouyang/Documents/projects/ym-mock",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/zhouyang/Documents/projects/ym-mock/mock/user.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/zhouyang/Documents/projects/ym-mock/mock/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock/mock",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "const tokens = {\n  admin: {\n    token: 'admin-token'\n  },\n  editor: {\n    token: 'editor-token'\n  }\n};\nconst users = {\n  'admin-token': {\n    roles: ['admin'],\n    introduction: 'I am a super administrator',\n    avatar: 'https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif',\n    name: 'Super Admin'\n  },\n  'editor-token': {\n    roles: ['editor'],\n    introduction: 'I am an editor',\n    avatar: 'https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif',\n    name: 'Normal Editor'\n  }\n};\nmodule.exports = [// user login\n{\n  url: '/user/login',\n  type: 'post',\n  response: config => {\n    const {\n      username\n    } = config.body;\n    const token = tokens[username]; // mock error\n\n    if (!token) {\n      return {\n        code: 60204,\n        message: 'Account and password are incorrect.'\n      };\n    }\n\n    return {\n      code: 20000,\n      data: token\n    };\n  }\n}, // get user info\n{\n  url: '/user/info\\.*',\n  type: 'get',\n  response: config => {\n    const {\n      token\n    } = config.query;\n    const info = users[token]; // mock error\n\n    if (!info) {\n      return {\n        code: 50008,\n        message: 'Login failed, unable to get user details.'\n      };\n    }\n\n    return {\n      code: 20000,\n      data: info\n    };\n  }\n}, // user logout\n{\n  url: '/user/logout',\n  type: 'post',\n  response: _ => {\n    return {\n      code: 20000,\n      data: 'success'\n    };\n  }\n}];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsidG9rZW5zIiwiYWRtaW4iLCJ0b2tlbiIsImVkaXRvciIsInVzZXJzIiwicm9sZXMiLCJpbnRyb2R1Y3Rpb24iLCJhdmF0YXIiLCJuYW1lIiwibW9kdWxlIiwiZXhwb3J0cyIsInVybCIsInR5cGUiLCJyZXNwb25zZSIsImNvbmZpZyIsInVzZXJuYW1lIiwiYm9keSIsImNvZGUiLCJtZXNzYWdlIiwiZGF0YSIsInF1ZXJ5IiwiaW5mbyIsIl8iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBRztBQUNiQyxFQUFBQSxLQUFLLEVBQUU7QUFDTEMsSUFBQUEsS0FBSyxFQUFFO0FBREYsR0FETTtBQUliQyxFQUFBQSxNQUFNLEVBQUU7QUFDTkQsSUFBQUEsS0FBSyxFQUFFO0FBREQ7QUFKSyxDQUFmO0FBU0EsTUFBTUUsS0FBSyxHQUFHO0FBQ1osaUJBQWU7QUFDYkMsSUFBQUEsS0FBSyxFQUFFLENBQUMsT0FBRCxDQURNO0FBRWJDLElBQUFBLFlBQVksRUFBRSw0QkFGRDtBQUdiQyxJQUFBQSxNQUFNLEVBQUUscUVBSEs7QUFJYkMsSUFBQUEsSUFBSSxFQUFFO0FBSk8sR0FESDtBQU9aLGtCQUFnQjtBQUNkSCxJQUFBQSxLQUFLLEVBQUUsQ0FBQyxRQUFELENBRE87QUFFZEMsSUFBQUEsWUFBWSxFQUFFLGdCQUZBO0FBR2RDLElBQUFBLE1BQU0sRUFBRSxxRUFITTtBQUlkQyxJQUFBQSxJQUFJLEVBQUU7QUFKUTtBQVBKLENBQWQ7QUFlQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQ2Y7QUFDQTtBQUNFQyxFQUFBQSxHQUFHLEVBQUUsYUFEUDtBQUVFQyxFQUFBQSxJQUFJLEVBQUUsTUFGUjtBQUdFQyxFQUFBQSxRQUFRLEVBQUVDLE1BQU0sSUFBSTtBQUNsQixVQUFNO0FBQUVDLE1BQUFBO0FBQUYsUUFBZUQsTUFBTSxDQUFDRSxJQUE1QjtBQUNBLFVBQU1kLEtBQUssR0FBR0YsTUFBTSxDQUFDZSxRQUFELENBQXBCLENBRmtCLENBSWxCOztBQUNBLFFBQUksQ0FBQ2IsS0FBTCxFQUFZO0FBQ1YsYUFBTztBQUNMZSxRQUFBQSxJQUFJLEVBQUUsS0FERDtBQUVMQyxRQUFBQSxPQUFPLEVBQUU7QUFGSixPQUFQO0FBSUQ7O0FBRUQsV0FBTztBQUNMRCxNQUFBQSxJQUFJLEVBQUUsS0FERDtBQUVMRSxNQUFBQSxJQUFJLEVBQUVqQjtBQUZELEtBQVA7QUFJRDtBQW5CSCxDQUZlLEVBd0JmO0FBQ0E7QUFDRVMsRUFBQUEsR0FBRyxFQUFFLGVBRFA7QUFFRUMsRUFBQUEsSUFBSSxFQUFFLEtBRlI7QUFHRUMsRUFBQUEsUUFBUSxFQUFFQyxNQUFNLElBQUk7QUFDbEIsVUFBTTtBQUFFWixNQUFBQTtBQUFGLFFBQVlZLE1BQU0sQ0FBQ00sS0FBekI7QUFDQSxVQUFNQyxJQUFJLEdBQUdqQixLQUFLLENBQUNGLEtBQUQsQ0FBbEIsQ0FGa0IsQ0FJbEI7O0FBQ0EsUUFBSSxDQUFDbUIsSUFBTCxFQUFXO0FBQ1QsYUFBTztBQUNMSixRQUFBQSxJQUFJLEVBQUUsS0FERDtBQUVMQyxRQUFBQSxPQUFPLEVBQUU7QUFGSixPQUFQO0FBSUQ7O0FBRUQsV0FBTztBQUNMRCxNQUFBQSxJQUFJLEVBQUUsS0FERDtBQUVMRSxNQUFBQSxJQUFJLEVBQUVFO0FBRkQsS0FBUDtBQUlEO0FBbkJILENBekJlLEVBK0NmO0FBQ0E7QUFDRVYsRUFBQUEsR0FBRyxFQUFFLGNBRFA7QUFFRUMsRUFBQUEsSUFBSSxFQUFFLE1BRlI7QUFHRUMsRUFBQUEsUUFBUSxFQUFFUyxDQUFDLElBQUk7QUFDYixXQUFPO0FBQ0xMLE1BQUFBLElBQUksRUFBRSxLQUREO0FBRUxFLE1BQUFBLElBQUksRUFBRTtBQUZELEtBQVA7QUFJRDtBQVJILENBaERlLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy96aG91eWFuZy9Eb2N1bWVudHMvcHJvamVjdHMveW0tbW9jay9tb2NrIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdG9rZW5zID0ge1xuICBhZG1pbjoge1xuICAgIHRva2VuOiAnYWRtaW4tdG9rZW4nXG4gIH0sXG4gIGVkaXRvcjoge1xuICAgIHRva2VuOiAnZWRpdG9yLXRva2VuJ1xuICB9XG59XG5cbmNvbnN0IHVzZXJzID0ge1xuICAnYWRtaW4tdG9rZW4nOiB7XG4gICAgcm9sZXM6IFsnYWRtaW4nXSxcbiAgICBpbnRyb2R1Y3Rpb246ICdJIGFtIGEgc3VwZXIgYWRtaW5pc3RyYXRvcicsXG4gICAgYXZhdGFyOiAnaHR0cHM6Ly93cGltZy53YWxsc3Rjbi5jb20vZjc3ODczOGMtZTRmOC00ODcwLWI2MzQtNTY3MDNiNGFjYWZlLmdpZicsXG4gICAgbmFtZTogJ1N1cGVyIEFkbWluJ1xuICB9LFxuICAnZWRpdG9yLXRva2VuJzoge1xuICAgIHJvbGVzOiBbJ2VkaXRvciddLFxuICAgIGludHJvZHVjdGlvbjogJ0kgYW0gYW4gZWRpdG9yJyxcbiAgICBhdmF0YXI6ICdodHRwczovL3dwaW1nLndhbGxzdGNuLmNvbS9mNzc4NzM4Yy1lNGY4LTQ4NzAtYjYzNC01NjcwM2I0YWNhZmUuZ2lmJyxcbiAgICBuYW1lOiAnTm9ybWFsIEVkaXRvcidcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFtcbiAgLy8gdXNlciBsb2dpblxuICB7XG4gICAgdXJsOiAnL3VzZXIvbG9naW4nLFxuICAgIHR5cGU6ICdwb3N0JyxcbiAgICByZXNwb25zZTogY29uZmlnID0+IHtcbiAgICAgIGNvbnN0IHsgdXNlcm5hbWUgfSA9IGNvbmZpZy5ib2R5XG4gICAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1t1c2VybmFtZV1cblxuICAgICAgLy8gbW9jayBlcnJvclxuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNvZGU6IDYwMjA0LFxuICAgICAgICAgIG1lc3NhZ2U6ICdBY2NvdW50IGFuZCBwYXNzd29yZCBhcmUgaW5jb3JyZWN0LidcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiAyMDAwMCxcbiAgICAgICAgZGF0YTogdG9rZW5cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gZ2V0IHVzZXIgaW5mb1xuICB7XG4gICAgdXJsOiAnL3VzZXIvaW5mb1xcLionLFxuICAgIHR5cGU6ICdnZXQnLFxuICAgIHJlc3BvbnNlOiBjb25maWcgPT4ge1xuICAgICAgY29uc3QgeyB0b2tlbiB9ID0gY29uZmlnLnF1ZXJ5XG4gICAgICBjb25zdCBpbmZvID0gdXNlcnNbdG9rZW5dXG5cbiAgICAgIC8vIG1vY2sgZXJyb3JcbiAgICAgIGlmICghaW5mbykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNvZGU6IDUwMDA4LFxuICAgICAgICAgIG1lc3NhZ2U6ICdMb2dpbiBmYWlsZWQsIHVuYWJsZSB0byBnZXQgdXNlciBkZXRhaWxzLidcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiAyMDAwMCxcbiAgICAgICAgZGF0YTogaW5mb1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyB1c2VyIGxvZ291dFxuICB7XG4gICAgdXJsOiAnL3VzZXIvbG9nb3V0JyxcbiAgICB0eXBlOiAncG9zdCcsXG4gICAgcmVzcG9uc2U6IF8gPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29kZTogMjAwMDAsXG4gICAgICAgIGRhdGE6ICdzdWNjZXNzJ1xuICAgICAgfVxuICAgIH1cbiAgfVxuXVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "tokens",
        "admin",
        "token",
        "editor",
        "users",
        "roles",
        "introduction",
        "avatar",
        "name",
        "module",
        "exports",
        "url",
        "type",
        "response",
        "config",
        "username",
        "body",
        "code",
        "message",
        "data",
        "query",
        "info",
        "_"
      ],
      "mappings": "AAAA,MAAMA,MAAM,GAAG;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE;AADF,GADM;AAIbC,EAAAA,MAAM,EAAE;AACND,IAAAA,KAAK,EAAE;AADD;AAJK,CAAf;AASA,MAAME,KAAK,GAAG;AACZ,iBAAe;AACbC,IAAAA,KAAK,EAAE,CAAC,OAAD,CADM;AAEbC,IAAAA,YAAY,EAAE,4BAFD;AAGbC,IAAAA,MAAM,EAAE,qEAHK;AAIbC,IAAAA,IAAI,EAAE;AAJO,GADH;AAOZ,kBAAgB;AACdH,IAAAA,KAAK,EAAE,CAAC,QAAD,CADO;AAEdC,IAAAA,YAAY,EAAE,gBAFA;AAGdC,IAAAA,MAAM,EAAE,qEAHM;AAIdC,IAAAA,IAAI,EAAE;AAJQ;AAPJ,CAAd;AAeAC,MAAM,CAACC,OAAP,GAAiB,CACf;AACA;AACEC,EAAAA,GAAG,EAAE,aADP;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,QAAQ,EAAEC,MAAM,IAAI;AAClB,UAAM;AAAEC,MAAAA;AAAF,QAAeD,MAAM,CAACE,IAA5B;AACA,UAAMd,KAAK,GAAGF,MAAM,CAACe,QAAD,CAApB,CAFkB,CAIlB;;AACA,QAAI,CAACb,KAAL,EAAY;AACV,aAAO;AACLe,QAAAA,IAAI,EAAE,KADD;AAELC,QAAAA,OAAO,EAAE;AAFJ,OAAP;AAID;;AAED,WAAO;AACLD,MAAAA,IAAI,EAAE,KADD;AAELE,MAAAA,IAAI,EAAEjB;AAFD,KAAP;AAID;AAnBH,CAFe,EAwBf;AACA;AACES,EAAAA,GAAG,EAAE,eADP;AAEEC,EAAAA,IAAI,EAAE,KAFR;AAGEC,EAAAA,QAAQ,EAAEC,MAAM,IAAI;AAClB,UAAM;AAAEZ,MAAAA;AAAF,QAAYY,MAAM,CAACM,KAAzB;AACA,UAAMC,IAAI,GAAGjB,KAAK,CAACF,KAAD,CAAlB,CAFkB,CAIlB;;AACA,QAAI,CAACmB,IAAL,EAAW;AACT,aAAO;AACLJ,QAAAA,IAAI,EAAE,KADD;AAELC,QAAAA,OAAO,EAAE;AAFJ,OAAP;AAID;;AAED,WAAO;AACLD,MAAAA,IAAI,EAAE,KADD;AAELE,MAAAA,IAAI,EAAEE;AAFD,KAAP;AAID;AAnBH,CAzBe,EA+Cf;AACA;AACEV,EAAAA,GAAG,EAAE,cADP;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,QAAQ,EAAES,CAAC,IAAI;AACb,WAAO;AACLL,MAAAA,IAAI,EAAE,KADD;AAELE,MAAAA,IAAI,EAAE;AAFD,KAAP;AAID;AARH,CAhDe,CAAjB",
      "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock/mock",
      "sourcesContent": [
        "const tokens = {\n  admin: {\n    token: 'admin-token'\n  },\n  editor: {\n    token: 'editor-token'\n  }\n}\n\nconst users = {\n  'admin-token': {\n    roles: ['admin'],\n    introduction: 'I am a super administrator',\n    avatar: 'https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif',\n    name: 'Super Admin'\n  },\n  'editor-token': {\n    roles: ['editor'],\n    introduction: 'I am an editor',\n    avatar: 'https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif',\n    name: 'Normal Editor'\n  }\n}\n\nmodule.exports = [\n  // user login\n  {\n    url: '/user/login',\n    type: 'post',\n    response: config => {\n      const { username } = config.body\n      const token = tokens[username]\n\n      // mock error\n      if (!token) {\n        return {\n          code: 60204,\n          message: 'Account and password are incorrect.'\n        }\n      }\n\n      return {\n        code: 20000,\n        data: token\n      }\n    }\n  },\n\n  // get user info\n  {\n    url: '/user/info\\.*',\n    type: 'get',\n    response: config => {\n      const { token } = config.query\n      const info = users[token]\n\n      // mock error\n      if (!info) {\n        return {\n          code: 50008,\n          message: 'Login failed, unable to get user details.'\n        }\n      }\n\n      return {\n        code: 20000,\n        data: info\n      }\n    }\n  },\n\n  // user logout\n  {\n    url: '/user/logout',\n    type: 'post',\n    response: _ => {\n      return {\n        code: 20000,\n        data: 'success'\n      }\n    }\n  }\n]\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1567670460095
  },
  "{\"sourceRoot\":\"/Users/zhouyang/Documents/projects/ym-mock/mock\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/zhouyang/Documents/projects/ym-mock\",\"filename\":\"/Users/zhouyang/Documents/projects/ym-mock/mock/article.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/zhouyang/Documents/projects/ym-mock\",\"plugins\":[],\"presets\":[]}:7.5.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock/mock",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/zhouyang/Documents/projects/ym-mock",
      "filename": "/Users/zhouyang/Documents/projects/ym-mock/mock/article.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/zhouyang/Documents/projects/ym-mock",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/zhouyang/Documents/projects/ym-mock/mock/article.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/zhouyang/Documents/projects/ym-mock/mock/article.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock/mock",
        "sourceFileName": "article.js"
      }
    },
    "ast": null,
    "code": "// import Mock from 'mockjs';\nconst Mock = require('mockjs');\n\nconst List = [];\nconst count = 100;\nconst baseContent = '<p>I am testing data, I am testing data.</p><p><img src=\"https://wpimg.wallstcn.com/4c69009c-0fd4-4153-b112-6cb53d1cf943\"></p>';\nconst image_uri = 'https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3';\n\nfor (let i = 0; i < count; i++) {\n  List.push(Mock.mock({\n    id: '@increment',\n    timestamp: +Mock.Random.date('T'),\n    author: '@first',\n    reviewer: '@first',\n    title: '@title(5, 10)',\n    content_short: 'mock data',\n    content: baseContent,\n    forecast: '@float(0, 100, 2, 2)',\n    importance: '@integer(1, 3)',\n    'type|1': ['CN', 'US', 'JP', 'EU'],\n    'status|1': ['published', 'draft', 'deleted'],\n    display_time: '@datetime',\n    comment_disabled: true,\n    pageviews: '@integer(300, 5000)',\n    image_uri,\n    platforms: ['a-platform']\n  }));\n}\n\nmodule.exports = [{\n  url: '/article/list',\n  type: 'get',\n  response: config => {\n    const {\n      importance,\n      type,\n      title,\n      page = 1,\n      limit = 20,\n      sort\n    } = config.query;\n    let mockList = List.filter(item => {\n      if (importance && item.importance !== +importance) return false;\n      if (type && item.type !== type) return false;\n      if (title && item.title.indexOf(title) < 0) return false;\n      return true;\n    });\n\n    if (sort === '-id') {\n      mockList = mockList.reverse();\n    }\n\n    const pageList = mockList.filter((item, index) => index < limit * page && index >= limit * (page - 1));\n    return {\n      code: 20001,\n      data: {\n        total: mockList.length,\n        items: pageList\n      }\n    };\n  }\n}, {\n  url: '/article/detail',\n  type: 'get',\n  response: config => {\n    const {\n      id\n    } = config.query;\n\n    for (const article of List) {\n      if (article.id === +id) {\n        return {\n          code: 20000,\n          data: article\n        };\n      }\n    }\n  }\n}, {\n  url: '/article/pv',\n  type: 'get',\n  response: _ => {\n    return {\n      code: 20000,\n      data: {\n        pvData: [{\n          key: 'PC',\n          pv: 1024\n        }, {\n          key: 'mobile',\n          pv: 1024\n        }, {\n          key: 'ios',\n          pv: 1024\n        }, {\n          key: 'android',\n          pv: 1024\n        }]\n      }\n    };\n  }\n}, {\n  url: '/article/create',\n  type: 'post',\n  response: _ => {\n    return {\n      code: 20000,\n      data: 'success'\n    };\n  }\n}, {\n  url: '/article/update',\n  type: 'post',\n  response: _ => {\n    return {\n      code: 20000,\n      data: 'success'\n    };\n  }\n}];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGljbGUuanMiXSwibmFtZXMiOlsiTW9jayIsInJlcXVpcmUiLCJMaXN0IiwiY291bnQiLCJiYXNlQ29udGVudCIsImltYWdlX3VyaSIsImkiLCJwdXNoIiwibW9jayIsImlkIiwidGltZXN0YW1wIiwiUmFuZG9tIiwiZGF0ZSIsImF1dGhvciIsInJldmlld2VyIiwidGl0bGUiLCJjb250ZW50X3Nob3J0IiwiY29udGVudCIsImZvcmVjYXN0IiwiaW1wb3J0YW5jZSIsImRpc3BsYXlfdGltZSIsImNvbW1lbnRfZGlzYWJsZWQiLCJwYWdldmlld3MiLCJwbGF0Zm9ybXMiLCJtb2R1bGUiLCJleHBvcnRzIiwidXJsIiwidHlwZSIsInJlc3BvbnNlIiwiY29uZmlnIiwicGFnZSIsImxpbWl0Iiwic29ydCIsInF1ZXJ5IiwibW9ja0xpc3QiLCJmaWx0ZXIiLCJpdGVtIiwiaW5kZXhPZiIsInJldmVyc2UiLCJwYWdlTGlzdCIsImluZGV4IiwiY29kZSIsImRhdGEiLCJ0b3RhbCIsImxlbmd0aCIsIml0ZW1zIiwiYXJ0aWNsZSIsIl8iLCJwdkRhdGEiLCJrZXkiLCJwdiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUVBLE1BQU1DLElBQUksR0FBRyxFQUFiO0FBQ0EsTUFBTUMsS0FBSyxHQUFHLEdBQWQ7QUFFQSxNQUFNQyxXQUFXLEdBQUcsZ0lBQXBCO0FBQ0EsTUFBTUMsU0FBUyxHQUFHLGlFQUFsQjs7QUFFQSxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdILEtBQXBCLEVBQTJCRyxDQUFDLEVBQTVCLEVBQWdDO0FBQzlCSixFQUFBQSxJQUFJLENBQUNLLElBQUwsQ0FBVVAsSUFBSSxDQUFDUSxJQUFMLENBQVU7QUFDbEJDLElBQUFBLEVBQUUsRUFBRSxZQURjO0FBRWxCQyxJQUFBQSxTQUFTLEVBQUUsQ0FBQ1YsSUFBSSxDQUFDVyxNQUFMLENBQVlDLElB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bmcvRG9jdW1lbnRzL3Byb2plY3RzL3ltLW1vY2svbW9jayIsInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCBNb2NrIGZyb20gJ21vY2tqcyc7XG5jb25zdCBNb2NrID0gcmVxdWlyZSgnbW9ja2pzJyk7XG5cbmNvbnN0IExpc3QgPSBbXTtcbmNvbnN0IGNvdW50ID0gMTAwO1xuXG5jb25zdCBiYXNlQ29udGVudCA9ICc8cD5JIGFtIHRlc3RpbmcgZGF0YSwgSSBhbSB0ZXN0aW5nIGRhdGEuPC9wPjxwPjxpbWcgc3JjPVwiaHR0cHM6Ly93cGltZy53YWxsc3Rjbi5jb20vNGM2OTAwOWMtMGZkNC00MTUzLWIxMTItNmNiNTNkMWNmOTQzXCI+PC9wPic7XG5jb25zdCBpbWFnZV91cmkgPSAnaHR0cHM6Ly93cGltZy53YWxsc3Rjbi5jb20vZTQ1NTgwODYtNjMxYy00MjVjLTk0MzAtNTZmZmI0NmU3MGIzJztcblxuZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gIExpc3QucHVzaChNb2NrLm1vY2soe1xuICAgIGlkOiAnQGluY3JlbWVudCcsXG4gICAgdGltZXN0YW1wOiArTW9jay5SYW5kb20uZGF0ZSgnVCcpLFxuICAgIGF1dGhvcjogJ0BmaXJzdCcsXG4gICAgcmV2aWV3ZXI6ICdAZmlyc3QnLFxuICAgIHRpdGxlOiAnQHRpdGxlKDUsIDEwKScsXG4gICAgY29udGVudF9zaG9ydDogJ21vY2sgZGF0YScsXG4gICAgY29udGVudDogYmFzZUNvbnRlbnQsXG4gICAgZm9yZWNhc3Q6ICdAZmxvYXQoMCwgMTAwLCAyLCAyKScsXG4gICAgaW1wb3J0YW5jZTogJ0BpbnRlZ2VyKDEsIDMpJyxcbiAgICAndHlwZXwxJzogWydDTicsICdVUycsICdKUCcsICdFVSddLFxuICAgICdzdGF0dXN8MSc6IFsncHVibGlzaGVkJywgJ2RyYWZ0JywgJ2RlbGV0ZWQnXSxcbiAgICBkaXNwbGF5X3RpbWU6ICdAZGF0ZXRpbWUnLFxuICAgIGNvbW1lbnRfZGlzYWJsZWQ6IHRydWUsXG4gICAgcGFnZXZpZXdzOiAnQGludGVnZXIoMzAwLCA1MDAwKScsXG4gICAgaW1hZ2VfdXJpLFxuICAgIHBsYXRmb3JtczogWydhLXBsYXRmb3JtJ11cbiAgfSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFtcbiAge1xuICAgIHVybDogJy9hcnRpY2xlL2xpc3QnLFxuICAgIHR5cGU6ICdnZXQnLFxuICAgIHJlc3BvbnNlOiBjb25maWcgPT4ge1xuICAgICAgY29uc3QgeyBpbXBvcnRhbmNlLCB0eXBlLCB0aXRsZSwgcGFnZSA9IDEsIGxpbWl0ID0gMjAsIHNvcnQgfSA9IGNvbmZpZy5xdWVyeVxuXG4gICAgICBsZXQgbW9ja0xpc3QgPSBMaXN0LmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgaWYgKGltcG9ydGFuY2UgJiYgaXRlbS5pbXBvcnRhbmNlICE9PSAraW1wb3J0YW5jZSkgcmV0dXJuIGZhbHNlXG4gICAgICAgIGlmICh0eXBlICYmIGl0ZW0udHlwZSAhPT0gdHlwZSkgcmV0dXJuIGZhbHNlXG4gICAgICAgIGlmICh0aXRsZSAmJiBpdGVtLnRpdGxlLmluZGV4T2YodGl0bGUpIDwgMCkgcmV0dXJuIGZhbHNlXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9KVxuXG4gICAgICBpZiAoc29ydCA9PT0gJy1pZCcpIHtcbiAgICAgICAgbW9ja0xpc3QgPSBtb2NrTGlzdC5yZXZlcnNlKClcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGFnZUxpc3QgPSBtb2NrTGlzdC5maWx0ZXIoKGl0ZW0sIGluZGV4KSA9PiBpbmRleCA8IGxpbWl0ICogcGFnZSAmJiBpbmRleCA+PSBsaW1pdCAqIChwYWdlIC0gMSkpXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IDIwMDAxLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG90YWw6IG1vY2tMaXN0Lmxlbmd0aCxcbiAgICAgICAgICBpdGVtczogcGFnZUxpc3RcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICB7XG4gICAgdXJsOiAnL2FydGljbGUvZGV0YWlsJyxcbiAgICB0eXBlOiAnZ2V0JyxcbiAgICByZXNwb25zZTogY29uZmlnID0+IHtcbiAgICAgIGNvbnN0IHsgaWQgfSA9IGNvbmZpZy5xdWVyeVxuICAgICAgZm9yIChjb25zdCBhcnRpY2xlIG9mIExpc3QpIHtcbiAgICAgICAgaWYgKGFydGljbGUuaWQgPT09ICtpZCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb2RlOiAyMDAwMCxcbiAgICAgICAgICAgIGRhdGE6IGFydGljbGVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAge1xuICAgIHVybDogJy9hcnRpY2xlL3B2JyxcbiAgICB0eXBlOiAnZ2V0JyxcbiAgICByZXNwb25zZTogXyA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiAyMDAwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHB2RGF0YTogW1xuICAgICAgICAgICAgeyBrZXk6ICdQQycsIHB2OiAxMDI0IH0sXG4gICAgICAgICAgICB7IGtleTogJ21vYmlsZScsIHB2OiAxMDI0IH0sXG4gICAgICAgICAgICB7IGtleTogJ2lvcycsIHB2OiAxMDI0IH0sXG4gICAgICAgICAgICB7IGtleTogJ2FuZHJvaWQnLCBwdjogMTAyNCB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHtcbiAgICB1cmw6ICcvYXJ0aWNsZS9jcmVhdGUnLFxuICAgIHR5cGU6ICdwb3N0JyxcbiAgICByZXNwb25zZTogXyA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiAyMDAwMCxcbiAgICAgICAgZGF0YTogJ3N1Y2Nlc3MnXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHtcbiAgICB1cmw6ICcvYXJ0aWNsZS91cGRhdGUnLFxuICAgIHR5cGU6ICdwb3N0JyxcbiAgICByZXNwb25zZTogXyA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiAyMDAwMCxcbiAgICAgICAgZGF0YTogJ3N1Y2Nlc3MnXG4gICAgICB9XG4gICAgfVxuICB9XG5dO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "article.js"
      ],
      "names": [
        "Mock",
        "require",
        "List",
        "count",
        "baseContent",
        "image_uri",
        "i",
        "push",
        "mock",
        "id",
        "timestamp",
        "Random",
        "date",
        "author",
        "reviewer",
        "title",
        "content_short",
        "content",
        "forecast",
        "importance",
        "display_time",
        "comment_disabled",
        "pageviews",
        "platforms",
        "module",
        "exports",
        "url",
        "type",
        "response",
        "config",
        "page",
        "limit",
        "sort",
        "query",
        "mockList",
        "filter",
        "item",
        "indexOf",
        "reverse",
        "pageList",
        "index",
        "code",
        "data",
        "total",
        "length",
        "items",
        "article",
        "_",
        "pvData",
        "key",
        "pv"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/zhouyang/Documents/projects/ym-mock/mock",
      "sourcesContent": [
        "// import Mock from 'mockjs';\nconst Mock = require('mockjs');\n\nconst List = [];\nconst count = 100;\n\nconst baseContent = '<p>I am testing data, I am testing data.</p><p><img src=\"https://wpimg.wallstcn.com/4c69009c-0fd4-4153-b112-6cb53d1cf943\"></p>';\nconst image_uri = 'https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3';\n\nfor (let i = 0; i < count; i++) {\n  List.push(Mock.mock({\n    id: '@increment',\n    timestamp: +Mock.Random.date('T'),\n    author: '@first',\n    reviewer: '@first',\n    title: '@title(5, 10)',\n    content_short: 'mock data',\n    content: baseContent,\n    forecast: '@float(0, 100, 2, 2)',\n    importance: '@integer(1, 3)',\n    'type|1': ['CN', 'US', 'JP', 'EU'],\n    'status|1': ['published', 'draft', 'deleted'],\n    display_time: '@datetime',\n    comment_disabled: true,\n    pageviews: '@integer(300, 5000)',\n    image_uri,\n    platforms: ['a-platform']\n  }));\n}\n\nmodule.exports = [\n  {\n    url: '/article/list',\n    type: 'get',\n    response: config => {\n      const { importance, type, title, page = 1, limit = 20, sort } = config.query\n\n      let mockList = List.filter(item => {\n        if (importance && item.importance !== +importance) return false\n        if (type && item.type !== type) return false\n        if (title && item.title.indexOf(title) < 0) return false\n        return true\n      })\n\n      if (sort === '-id') {\n        mockList = mockList.reverse()\n      }\n\n      const pageList = mockList.filter((item, index) => index < limit * page && index >= limit * (page - 1))\n\n      return {\n        code: 20001,\n        data: {\n          total: mockList.length,\n          items: pageList\n        }\n      }\n    }\n  },\n\n  {\n    url: '/article/detail',\n    type: 'get',\n    response: config => {\n      const { id } = config.query\n      for (const article of List) {\n        if (article.id === +id) {\n          return {\n            code: 20000,\n            data: article\n          }\n        }\n      }\n    }\n  },\n\n  {\n    url: '/article/pv',\n    type: 'get',\n    response: _ => {\n      return {\n        code: 20000,\n        data: {\n          pvData: [\n            { key: 'PC', pv: 1024 },\n            { key: 'mobile', pv: 1024 },\n            { key: 'ios', pv: 1024 },\n            { key: 'android', pv: 1024 }\n          ]\n        }\n      }\n    }\n  },\n\n  {\n    url: '/article/create',\n    type: 'post',\n    response: _ => {\n      return {\n        code: 20000,\n        data: 'success'\n      }\n    }\n  },\n\n  {\n    url: '/article/update',\n    type: 'post',\n    response: _ => {\n      return {\n        code: 20000,\n        data: 'success'\n      }\n    }\n  }\n];\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1567671031448
  }
}